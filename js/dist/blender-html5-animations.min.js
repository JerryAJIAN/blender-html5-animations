/**
 * Blender HTML5 Animations
 * Copyright 2016 Jonathan Giroux
 * MIT licence
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("window")):"function"==typeof define&&define.amd?define(["window"],e):"object"==typeof exports?exports.blenderHTML5Animations=e(require("window")):t.blenderHTML5Animations=e(t.window)}(this,function(t){return function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports.Easing=r(1),t.exports.Extrapolation=r(2),t.exports.Interpolation=r(3),t.exports.RotationMode=r(4),t.exports.ActionLibrary=r(5),t.exports.FCurveArray=r(8)},function(t,e){"use strict";var r={AUTO:0,IN:1,OUT:2,IN_OUT:3};t.exports=r},function(t,e){"use strict";var r={CONSTANT:0,LINEAR:1};t.exports=r},function(t,e){"use strict";var r={CONSTANT:0,LINEAR:1,BEZIER:2,BACK:3,BOUNCE:4,CIRCULAR:5,CUBIC:6,ELASTIC:7,EXPONENTIAL:8,QUADRATIC:9,QUARTIC:10,QUINTIC:11,SINUSOIDAL:12};t.exports=r},function(t,e){"use strict";var r={QUATERNION:0,EULER_XYZ:1,EULER_YXZ:3,EULER_XZY:2,EULER_ZXY:5,EULER_YZX:4,EULER_ZYX:6,AXIS_ANGLE:-1};t.exports=r},function(t,e,r){"use strict";function a(t){for(var e in t)this[e]=new n(t[e])}var n=r(6);t.exports=a},function(t,e,r){"use strict";function a(t){function e(t){t&&(r.startTime=Math.min(r.startTime,t.keyframes[0].time),r.endTime=Math.max(r.endTime,t.keyframes[t.keyframes.length-1].time))}var r=this;this.startTime=+(1/0),this.endTime=-(1/0),this.paths={};for(var a in t[0]){var n=new o(t[0][a]);this.paths[a]=n,n.forEach(e)}this.markers=t.length>1?t[1].map(function(t){return new c(t)}):[]}var n=r(7),u=n.glMatrix,s=n.mat4,i=n.vec3,o=r(8),c=r(13),f=r(4);a.prototype.forEachMarker=function(t,e,r){return this.markers.forEach(function(a,n){if(a.time>=t&&a.time<e)return r(a,n)})};var l=new u.ARRAY_TYPE(16);a.prototype.toWorld=function(t,e,r){function a(){n=i.fromValues(0,0,0),[u.rotation_euler,u.delta_rotation_euler].forEach(function(t){t&&i.add(n,n,t.evaluate(e,o.DefaultValues.ROTATION))})}s.identity(t);var n,u=this.paths,c=i.fromValues(0,0,0);switch([u.location,u.delta_location].forEach(function(t){t&&i.add(c,c,t.evaluate(e,o.DefaultValues.LOCATION))}),s.translate(t,t,c),r){case f.QUATERNION:[u.rotation_quaternion,u.delta_rotation_quaternion].forEach(function(r){r&&(s.fromQuat(l,r.evaluate(e,o.DefaultValues.ROTATION_QUATERNION)),s.multiply(t,t,l))});break;case f.EULER_XYZ:a(),s.rotateZ(t,t,n[2]),s.rotateY(t,t,n[1]),s.rotateX(t,t,n[0]);break;case f.EULER_XZY:a(),s.rotateY(t,t,n[1]),s.rotateZ(t,t,n[2]),s.rotateX(t,t,n[0]);break;case f.EULER_YXZ:a(),s.rotateZ(t,t,n[2]),s.rotateX(t,t,n[0]),s.rotateY(t,t,n[1]);break;case f.EULER_YZX:a(),s.rotateX(t,t,n[0]),s.rotateZ(t,t,n[2]),s.rotateY(t,t,n[1]);break;case f.EULER_ZXY:a(),s.rotateY(t,t,n[1]),s.rotateX(t,t,n[0]),s.rotateZ(t,t,n[2]);break;case f.EULER_ZYX:a(),s.rotateX(t,t,n[0]),s.rotateY(t,t,n[1]),s.rotateZ(t,t,n[2]);break;case f.AXIS_ANGLE:if(u.rotation_axis){var E=u.rotation_axis.evaluate(e,o.DefaultValues.ROTATION);s.rotate(t,t,E[3],E)}}var h=i.fromValues(1,1,1);return[u.scale,u.delta_scale].forEach(function(t){t&&i.multiply(h,h,t.evaluate(e,o.DefaultValues.SCALE))}),s.scale(t,t,h),t},a.prototype.toLocal=function(t,e,r){return this.toWorld(t,e,r),s.invert(t,t),t},a.prototype.setElementTransform=function(t,e,r){var a=new u.ARRAY_TYPE(16);this.toWorld(a,e,r);var n="matrix3d("+a.join(",")+")";["transform","mozTransform","oTransform","webkitTransform"].forEach(function(e){t.style[e]=n})},t.exports=a},function(e,r){e.exports=t},function(t,e,r){"use strict";function a(t){var e=t.map(function(t){return t&&new n(t)});return e.evaluate=function(t,r){return e.map(function(e,a){return e?e.evaluate(t):r(a,t)})},e}var n=r(9);a.DefaultValues={LOCATION:function(){return 0},ROTATION:function(){return 0},ROTATION_QUATERNION:function(t){return 3===t?1:0},SCALE:function(){return 1}},t.exports=a},function(t,e,r){"use strict";function a(t){this.keyframes=t[0].map(function(t){return new c(t)}),this.extrapolation=t[1]}var n=r(10),u=r(11),s=r(1),i=r(2),o=r(3),c=r(12);a.prototype.evaluate=function(t){var e=0,r=this.keyframes[e];if(t<=r.time)switch(this.extrapolation){case i.LINEAR:return r.value+(r.leftValue-r.value)*(t-r.time)/(r.leftTime-r.time);default:return r.value}var a=this.keyframes.length-1,c=this.keyframes[a];if(t>=c.time)switch(this.extrapolation){case i.LINEAR:return c.value+(c.rightValue-c.value)*(t-c.time)/(c.rightTime-c.time);default:return c.value}for(;a-e>1;){var f=(e+a)/2|0;this.keyframes[f].time>=t?a=f:e=f}r=this.keyframes[e],c=this.keyframes[a];var l=t-r.time,E=r.value,h=c.time-r.time,p=c.value-r.value;switch(r.interpolation){case o.BACK:switch(r.easing){case s.IN:return u.backEaseIn(l,E,p,h,r.overshoot);case s.IN_OUT:return u.backEaseInOut(l,E,p,h,r.overshoot);default:return u.backEaseOut(l,E,p,h,r.overshoot)}break;case o.BEZIER:return n(t,r,c);case o.BOUNCE:switch(r.easing){case s.IN:return u.bounceEaseIn(l,E,p,h);case s.IN_OUT:return u.bounceEaseInOut(l,E,p,h);default:return u.bounceEaseOut(l,E,p,h)}break;case o.CIRCULAR:switch(r.easing){case s.OUT:return u.circularEaseOut(l,E,p,h);case s.IN_OUT:return u.circularEaseInOut(l,E,p,h);default:return u.circularEaseIn(l,E,p,h)}break;case o.CUBIC:switch(r.easing){case s.OUT:return u.cubicEaseOut(l,E,p,h);case s.IN_OUT:return u.cubicEaseInOut(l,E,p,h);default:return u.cubicEaseIn(l,E,p,h)}break;case o.ELASTIC:switch(r.easing){case s.IN:return u.elasticEaseIn(l,E,p,h);case s.IN_OUT:return u.elasticEaseInOut(l,E,p,h);default:return u.elasticEaseOut(l,E,p,h,r.amplitude,r.period)}break;case o.EXPONENTIAL:switch(r.easing){case s.OUT:return u.exponentialEaseOut(l,E,p,h);case s.IN_OUT:return u.exponentialEaseInOut(l,E,p,h);default:return u.exponentialEaseIn(l,E,p,h)}break;case o.LINEAR:return u.linear(l,E,p,h);case o.QUADRATIC:switch(r.easing){case s.OUT:return u.quadraticEaseOut(l,E,p,h);case s.IN_OUT:return u.quadraticEaseInOut(l,E,p,h);default:return u.quadraticEaseIn(l,E,p,h)}break;case o.QUARTIC:switch(r.easing){case s.OUT:return u.quarticEaseOut(l,E,p,h);case s.IN_OUT:return u.quarticEaseInOut(l,E,p,h);default:return u.quarticEaseIn(l,E,p,h)}break;case o.QUINTIC:switch(r.easing){case s.OUT:return u.quinticEaseOut(l,E,p,h);case s.IN_OUT:return u.quinticEaseInOut(l,E,p,h);default:return u.quinticEaseIn(l,E,p,h)}break;case o.SINUSOIDAL:switch(r.easing){case s.OUT:return u.sinusoidalEaseOut(l,E,p,h);case s.IN_OUT:return u.sinusoidalEaseInOut(l,E,p,h);default:return u.sinusoidalEaseIn(l,E,p,h)}break;default:return E}},t.exports=a},function(t,e){"use strict";function r(t,e,r,a,n){var u=1-n;return u*u*u*t+3*u*u*n*e+3*u*n*n*r+n*n*n*a}function a(t,e,a){var n=e.time,u=e.value,s=e.rightTime,i=e.rightValue,o=a.leftTime,c=a.leftValue,f=a.time,l=a.value,E=s-n,h=f-o,p=f-n;if(E+h>p){var I=i-u,O=l-c,x=p/(E+h);s=n+x*E,i=u+x*I,o=f-x*h,c=l-x*O}var m,T,d=0,v=1;do m=(d+v)/2,T=r(n,s,o,f,m),T>t?v=m:d=m;while(Math.abs(T-t)>.01);return r(u,i,c,l,m)}t.exports=a},function(t,e){"use strict";function r(t,e,r,a,n){return t/=a,r*t*t*((n+1)*t-n)+e}function a(t,e,r,a,n){return t=t/a-1,r*(t*t*((n+1)*t+n)+1)+e}function n(t,e,r,a,n){return n*=1.525,(t/=a/2)<1?r/2*(t*t*((n+1)*t-n))+e:(t-=2,r/2*(t*t*((n+1)*t+n)+2)+e)}function u(t,e,r,a){return t/=a,t<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?(t-=1.5/2.75,r*(7.5625*t*t+.75)+e):t<2.5/2.75?(t-=2.25/2.75,r*(7.5625*t*t+.9375)+e):(t-=2.625/2.75,r*(7.5625*t*t+.984375)+e)}function s(t,e,r,a){return r-u(a-t,0,r,a)+e}function i(t,e,r,a){return t<a/2?.5*s(2*t,0,r,a)+e:.5*u(2*t-a,0,r,a)+.5*r+e}function o(t,e,r,a){return t/=a,-r*(Math.sqrt(1-t*t)-1)+e}function c(t,e,r,a){return t=t/a-1,r*Math.sqrt(1-t*t)+e}function f(t,e,r,a){return(t/=a/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,r/2*(Math.sqrt(1-t*t)+1)+e)}function l(t,e,r,a){return t/=a,r*t*t*t+e}function E(t,e,r,a){return t=t/a-1,r*(t*t*t+1)+e}function h(t,e,r,a){return(t/=a/2)<1?r/2*t*t*t+e:(t-=2,r/2*(t*t*t+2)+e)}function p(t,e,r,a,n,u){if(e){var s=Math.abs(n);a?u*=a/Math.abs(e):u=0;var i=Math.abs(t*r);if(i<s){var o=i/s;u=u*o+(1-o)}}return u}function I(t,e,r,a,n,u){var s,i=1;return t<=0?e:(t/=a)>=1?e+r:(t-=1,u||(u=.3*a),!n||n<Math.abs(r)?(s=u/4,i=p(t,r,a,n,s,i),n=r):s=u/(2*Math.PI)*Math.asin(r/n),-i*(n*Math.pow(2,10*t)*Math.sin((t*a-s)*(2*Math.PI)/u))+e)}function O(t,e,r,a,n,u){var s,i=1;return t<=0?e:(t/=a)>=1?e+r:(t=-t,u||(u=.3*a),!n||n<Math.abs(r)?(s=u/4,i=p(t,r,a,n,s,i),n=r):s=u/(2*Math.PI)*Math.asin(r/n),i*(n*Math.pow(2,10*t)*Math.sin((t*a-s)*(2*Math.PI)/u))+r+e)}function x(t,e,r,a,n,u){var s,i=1;return t<=0?e:(t/=a/2)>=2?e+r:(t-=1,u||(u=a*(.3*1.5)),!n||n<Math.abs(r)?(s=u/4,i=p(t,r,a,n,s,i),n=r):s=u/(2*Math.PI)*Math.asin(r/n),t<0?(i*=-.5,i*(n*Math.pow(2,10*t)*Math.sin((t*a-s)*(2*Math.PI)/u))+e):(t=-t,i*=.5,i*(n*Math.pow(2,10*t)*Math.sin((t*a-s)*(2*Math.PI)/u))+r+e))}function m(t,e,r,a){return t<=0?e:r*Math.pow(2,10*(t/a-1))+e}function T(t,e,r,a){return t>=a?e+r:r*(-Math.pow(2,-10*t/a)+1)+e}function d(t,e,r,a){return t<=0?e:t>=a?e+r:(t/=a/2)<1?r/2*Math.pow(2,10*(t-1))+e:(t-=1,r/2*(-Math.pow(2,-10*t)+2)+e)}function v(t,e,r,a){return r*t/a+e}function N(t,e,r,a){return t/=a,r*t*t+e}function U(t,e,r,a){return t/=a,-r*t*(t-2)+e}function b(t,e,r,a){return(t/=a/2)<1?r/2*t*t+e:(t-=1,-r/2*(t*(t-2)-1)+e)}function A(t,e,r,a){return t/=a,r*t*t*t*t+e}function M(t,e,r,a){return t=t/a-1,-r*(t*t*t*t-1)+e}function R(t,e,r,a){return(t/=a/2)<1?r/2*t*t*t*t+e:(t-=2,-r/2*(t*t*t*t-2)+e)}function _(t,e,r,a){return t/=a,r*t*t*t*t*t+e}function w(t,e,r,a){return t=t/a-1,r*(t*t*t*t*t+1)+e}function k(t,e,r,a){return(t/=a/2)<1?r/2*t*t*t*t*t+e:(t-=2,r/2*(t*t*t*t*t+2)+e)}function L(t,e,r,a){return-r*Math.cos(t/a*Math.PI_2)+r+e}function C(t,e,r,a){return r*Math.sin(t/a*Math.PI_2)+e}function q(t,e,r,a){return-r/2*(Math.cos(Math.PI*t/a)-1)+e}t.exports.backEaseIn=r,t.exports.backEaseOut=a,t.exports.backEaseInOut=n,t.exports.bounceEaseOut=u,t.exports.bounceEaseIn=s,t.exports.bounceEaseInOut=i,t.exports.circularEaseIn=o,t.exports.circularEaseOut=c,t.exports.circularEaseInOut=f,t.exports.cubicEaseIn=l,t.exports.cubicEaseOut=E,t.exports.cubicEaseInOut=h,t.exports.elasticEaseIn=I,t.exports.elasticEaseOut=O,t.exports.elasticEaseInOut=x,t.exports.exponentialEaseIn=m,t.exports.exponentialEaseOut=T,t.exports.exponentialEaseInOut=d,t.exports.linear=v,t.exports.quadraticEaseIn=N,t.exports.quadraticEaseOut=U,t.exports.quadraticEaseInOut=b,t.exports.quarticEaseIn=A,t.exports.quarticEaseOut=M,t.exports.quarticEaseInOut=R,t.exports.quinticEaseIn=_,t.exports.quinticEaseOut=w,t.exports.quinticEaseInOut=k,t.exports.sinusoidalEaseIn=L,t.exports.sinusoidalEaseOut=C,t.exports.sinusoidalEaseInOut=q},function(t,e){"use strict";function r(t){this.time=t[0],this.value=t[1],this.leftTime=t[2],this.leftValue=t[3],this.rightTime=t[4],this.rightValue=t[5],this.interpolation=t[6],this.easing=t[7],this.overshoot=t[8],this.amplitude=t[8],this.period=t[9]}t.exports=r},function(t,e){"use strict";function r(t){this.time=t[0],this.name=t[1]}t.exports=r}])});